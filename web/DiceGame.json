{
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "DepositReceived",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint8[4]",
          "name": "diceRolls",
          "type": "uint8[4]"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "score",
          "type": "uint8"
        }
      ],
      "name": "DiceRolled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        }
      ],
      "name": "GameEnded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "startBlock",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "endBlock",
          "type": "uint256"
        }
      ],
      "name": "GameStarted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "PlayerJoined",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint8[4]",
          "name": "dice",
          "type": "uint8[4]"
        }
      ],
      "name": "calculateScore",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dealer",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dealerFeePercent",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "endBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "endGame",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "gameEnded",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "gamePlayers",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "joinTime",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "playerAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "stake",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "score",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "gameStarted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPlayers",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "joinTime",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "playerAddress",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "stake",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "payout",
              "type": "uint256"
            },
            {
              "internalType": "uint8[4]",
              "name": "diceRolls",
              "type": "uint8[4]"
            },
            {
              "internalType": "uint8",
              "name": "score",
              "type": "uint8"
            }
          ],
          "internalType": "struct DiceGame.Player[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "joinGame",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "playerAddresses",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "players",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "joinTime",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "playerAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "stake",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "score",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_feePercent",
          "type": "uint256"
        }
      ],
      "name": "setDealerFeePercent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "startBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "startGame",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "6080604052600f600355348015601457600080fd5b50600080546001600160a01b03191633179055611e00806100366000396000f3fe6080604052600436106100fe5760003560e01c80636cbc2ded11610095578063b4cd9a2b11610064578063b4cd9a2b146102cc578063d0e30db0146102ec578063d4f77b1c146102f4578063d65ab5f2146102fc578063e2eb41ff1461031157600080fd5b80636cbc2ded1461025f5780638b5b9ccc146102745780638f0b9fe5146102965780639de2ee21146102ac57600080fd5b80633ccfd60b116100d15780633ccfd60b146101e657806348cd4cb1146101fd5780635e123ce414610213578063626535001461022d57600080fd5b8063083c63231461010357806315c6aee21461012c5780632f6fe39614610164578063346716f414610193575b600080fd5b34801561010f57600080fd5b5061011960055481565b6040519081526020015b60405180910390f35b34801561013857600080fd5b5061014c610147366004611ac9565b610367565b6040516001600160a01b039091168152602001610123565b34801561017057600080fd5b5060065461018390610100900460ff1681565b6040519015158152602001610123565b34801561019f57600080fd5b506101b36101ae366004611ac9565b610391565b604080519586526001600160a01b03909416602086015292840191909152606083015260ff16608082015260a001610123565b3480156101f257600080fd5b506101fb6103df565b005b34801561020957600080fd5b5061011960045481565b34801561021f57600080fd5b506006546101839060ff1681565b34801561023957600080fd5b5061024d610248366004611af8565b61047b565b60405160ff9091168152602001610123565b34801561026b57600080fd5b506101fb61072d565b34801561028057600080fd5b50610289610d38565b6040516101239190611b8b565b3480156102a257600080fd5b5061011960035481565b3480156102b857600080fd5b5060005461014c906001600160a01b031681565b3480156102d857600080fd5b506101fb6102e7366004611ac9565b610e29565b6101fb610ee2565b6101fb610f1d565b34801561030857600080fd5b506101fb611363565b34801561031d57600080fd5b506101b361032c366004611c37565b6001602081905260009182526040909120805491810154600282015460038301546005909301546001600160a01b0390921692909160ff1685565b6002818154811061037757600080fd5b6000918252602090912001546001600160a01b0316905081565b600781815481106103a157600080fd5b6000918252602090912060069091020180546001820154600283015460038401546005909401549294506001600160a01b0390911692909160ff1685565b6000546001600160a01b0316331461043e5760405162461bcd60e51b815260206004820152601e60248201527f4f6e6c7920746865206465616c65722063616e2063616c6c20746869732e000060448201526064015b60405180910390fd5b600080546040516001600160a01b03909116914780156108fc02929091818181858888f19350505050158015610478573d6000803e3d6000fd5b50565b60006104856118eb565b60005b60048110156105815760018482600481106104a5576104a5611c67565b602002015160ff16101580156104d5575060068482600481106104ca576104ca611c67565b602002015160ff1611155b61052c5760405162461bcd60e51b815260206004820152602260248201527f446963652076616c7565206d757374206265206265747765656e203120616e64604482015261101b60f11b6064820152608401610435565b81600185836004811061054157610541611c67565b60200201516105509190611c93565b60ff166006811061056357610563611c67565b6020020180519061057382611cb2565b60ff16905250600101610488565b5060008060005b6006811015610664578381600681106105a3576105a3611c67565b602002015160ff166004036105be575060ff95945050505050565b8381600681106105d0576105d0611c67565b602002015160ff166003036105eb5750600095945050505050565b8381600681106105fd576105fd611c67565b602002015160ff1660020361062c578161061681611cb2565b925050828061062490611cb2565b93505061065c565b600084826006811061064057610640611c67565b602002015160ff16111561065c578261065881611cb2565b9350505b600101610588565b508160ff1660040361067b57506000949350505050565b600060055b84816006811061069257610692611c67565b602002015160ff1660021480156106ac57508260ff166002145b156106d2576106bc816001611cd1565b6106c7906002611ce4565b979650505050505050565b8481600681106106e4576106e4611c67565b602002015160ff1660010361070b576106fe816001611cd1565b6107089083611cfb565b91505b8015610723578061071b81611d14565b915050610680565b5095945050505050565b60065460ff166107775760405162461bcd60e51b815260206004820152601560248201527423b0b6b2903737ba1034b710383937b3b932b9b99760591b6044820152606401610435565b6000546001600160a01b0316331480610791575060055443115b61080e5760405162461bcd60e51b815260206004820152604260248201527f4f6e6c7920746865206465616c65722063616e20656e64207468652067616d6560448201527f206561726c79206f7220776169742074696c6c2074686520656e6420626c6f63606482015261359760f11b608482015260a401610435565b600054610823906001600160a01b0316611578565b600080546001600160a01b031681526001602052604090206005015460ff166003811115806108565750600c8160ff1610155b156109135760005b60025481101561090d5760038260ff1611156108c357600160006002838154811061088b5761088b611c67565b60009182526020808320909101546001600160a01b0316835282019290925260400190206002908101546108be91611ce4565b6108c6565b60005b60016000600284815481106108dd576108dd611c67565b60009182526020808320909101546001600160a01b0316835282019290925260400190206003015560010161085e565b50610b0f565b60005b600254811015610958576109506002828154811061093657610936611c67565b6000918252602090912001546001600160a01b0316611578565b600101610916565b5060005b600254811015610b0d576000600160006002848154811061097f5761097f611c67565b60009182526020808320909101546001600160a01b0316835282019290925260400190206005015460ff90811691508316811115610a455760016000600284815481106109ce576109ce611c67565b60009182526020808320909101546001600160a01b031683528201929092526040019020600290810154610a0191611ce4565b6001600060028581548110610a1857610a18611c67565b60009182526020808320909101546001600160a01b03168352820192909252604001902060030155610b04565b8260ff168160ff1603610ac2576001600060028481548110610a6957610a69611c67565b9060005260206000200160009054906101000a90046001600160a01b03166001600160a01b03166001600160a01b03168152602001908152602001600020600201546001600060028581548110610a1857610a18611c67565b60006001600060028581548110610adb57610adb611c67565b60009182526020808320909101546001600160a01b031683528201929092526040019020600301555b5060010161095c565b505b60005b600254811015610bee576001600060028381548110610b3357610b33611c67565b60009182526020808320909101546001600160a01b0316835282019290925260400190206007805483908110610b6b57610b6b611c67565b60009182526020909120825460069092020190815560018083015490820180546001600160a01b0319166001600160a01b039092169190911790556002808301549082015560038083015490820155610bcc60048083019080850190611909565b506005918201549101805460ff191660ff909216919091179055600101610b12565b50600080546001600160a01b03908116825260016020819052604083206007805480840182559452805460069094027fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c6888101948555918101547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c689830180546001600160a01b031916919094161790925560028201547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68a82015560038201547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68b820155909190610d04907fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68c01600480850190611909565b506005918201549101805460ff191660ff909216919091179055610d26611583565b506006805461ffff1916610100179055565b60606007805480602002602001604051908101604052809291908181526020016000905b82821015610e2057600084815260208082206040805160c081018252600687029092018054835260018101546001600160a01b03169383019390935260028301548282015260038301546060830152805160808082019283905292949285019290916004808601929091908390855b825461010083900a900460ff16815260206001928301818104948501949093039092029101808411610dcb575050509284525050506005919091015460ff166020918201529082526001929092019101610d5c565b50505050905090565b6000546001600160a01b03163314610e835760405162461bcd60e51b815260206004820152601e60248201527f4f6e6c7920746865206465616c65722063616e2063616c6c20746869732e00006044820152606401610435565b60648110610edd5760405162461bcd60e51b815260206004820152602160248201527f4665652070657263656e74206d757374206265206c657373207468616e2031306044820152600360fc1b6064820152608401610435565b600355565b604080513381523460208201527f9936746a4565f9766fa768f88f56a7487c78780ac179562773d1c75c5269537e91015b60405180910390a1565b600554431115610f6f5760405162461bcd60e51b815260206004820152601a60248201527f5468652067616d6520706572696f642068617320656e6465642e0000000000006044820152606401610435565b60065460ff16610fb95760405162461bcd60e51b815260206004820152601560248201527423b0b6b2903430b9903737ba1039ba30b93a32b21760591b6044820152606401610435565b6000546001600160a01b031633036110135760405162461bcd60e51b815260206004820152601c60248201527f4465616c65722063616e6e6f74206a6f696e207468652067616d652e000000006044820152606401610435565b336000526001602052600034118015611034575067016345785d8a00003411155b6110b05760405162461bcd60e51b815260206004820152604160248201527f5374616b65206d7573742062652067726561746572207468616e203020616e6460448201527f206c657373207468616e206f7220657175616c20746f20302e312065746865726064820152601760f91b608482015260a401610435565b600254600a116110fa5760405162461bcd60e51b8152602060048201526015602482015274283630bcb2b9103634b6b4ba103932b0b1b432b21760591b6044820152606401610435565b6040805160c0810182524281523360208083018281523484860190815260006060808701828152885160808082018b52848252818801859052818b0185905292810184905291880191825260a0880183905295825260019485905296902085518155915192820180546001600160a01b0319166001600160a01b0390941693909317909255905160028201559051600382015591519091906111a2906004808401919061194c565b5060a091909101516005909101805460ff191660ff9092169190911790553360009081526001602081905260408220600780548084018255935280547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c6886006909402938401908155918101547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c689840180546001600160a01b039092166001600160a01b031990921691909117905560028101547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68a84015560038101547fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68b840155916112d4907fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68c01600480850190611909565b506005918201549101805460ff191660ff909216919091179055600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0180546001600160a01b031916339081179091556040519081527f31e760aa525306aba638a784082a013b6a1cc0a9a1789f3f22281c0453b10b1f90602001610f13565b60065460ff16156113b65760405162461bcd60e51b815260206004820152601960248201527f47616d652068617320616c726561647920737461727465642e000000000000006044820152606401610435565b600147101561142d5760405162461bcd60e51b815260206004820152603c60248201527f436f6e74726163742062616c616e6365206d757374206265206174206c65617360448201527f74203120657468657220746f207374617274207468652067616d652e000000006064820152608401610435565b43600481905561143e906014611cd1565b6005556006805460ff191660011790819055610100900460ff1615611465576114656116c6565b7fa2dfaa3573b86004ec9d4d4abe5068d942579c59da4da8cd0d9e45e71a393bc16004546005546040516114a3929190918252602082015260400190565b60405180910390a16040805160c081018252428152600080546001600160a01b0390811660208085018281528587018581526060808801878152895160808082018c528982528187018a9052818c018a905292810189905291890191825260a089018890529487526001938490529790952086518155905191810180546001600160a01b031916929094169190911790925591516002820155905160038201559151909190611558906004808401919061194c565b5060a091909101516005909101805460ff191660ff909216919091179055565b610478816000611777565b60005b60025481101561047857600060016000600284815481106115a9576115a9611c67565b60009182526020808320909101546001600160a01b031683528201929092526040019020600301549050801561165c5760006064600354836115eb9190611ce4565b6115f59190611d41565b905060006116038284611d55565b90506002848154811061161857611618611c67565b60009182526020822001546040516001600160a01b039091169183156108fc02918491818181858888f19350505050158015611658573d6000803e3d6000fd5b5050505b7fd4ba6fec82d9b0e8ffe50b9fed9e4be3b25c984ce1e0e016405a5528726e8a2c6002838154811061169057611690611c67565b60009182526020918290200154604080516001600160a01b0390921682529181018490520160405180910390a150600101611586565b60005b60025481101561174d5760016000600283815481106116ea576116ea611c67565b60009182526020808320909101546001600160a01b0316835282019290925260400181208181556001810180546001600160a01b03191690556002810182905560038101829055600481018290559050600501805460ff191690556001016116c9565b5061175a600760006119da565b6040805160008152602081019182905251610478916002916119fb565b8061178181611cb2565b91505061178c611a50565b60005b60048160ff16101561184657604080514260208201526bffffffffffffffffffffffff19606087901b16918101919091526001600160f81b031960f883811b8216605484015285901b1660558201526006906056016040516020818303038152906040528051906020012060001c6118079190611d68565b611812906001611cd1565b828260ff166004811061182757611827611c67565b60ff90921660209290920201528061183e81611cb2565b91505061178f565b5060006118528261047b565b90508060ff1660000361186e576118698484611777565b6118e5565b6001600160a01b038416600090815260016020526040902060058101805460ff191660ff84161790556118a890600490810190849061194c565b507f0ca1e05aea25e585cabc2cacac0c483b8cf9fbf55168c7d62b71e536e872b0628483836040516118dc93929190611d7c565b60405180910390a15b50505050565b6040518060c001604052806006906020820280368337509192915050565b60018301918390821561193c5791601f016020900482015b8281111561193c578254825591600101919060010190611921565b50611948929150611a6e565b5090565b60018301918390821561193c5791602002820160005b838211156119a057835183826101000a81548160ff021916908360ff1602179055509260200192600101602081600001049283019260010302611962565b80156119cd5782816101000a81549060ff02191690556001016020816000010492830192600103026119a0565b5050611948929150611a6e565b50805460008255600602906000526020600020908101906104789190611a83565b82805482825590600052602060002090810192821561193c579160200282015b8281111561193c57825182546001600160a01b0319166001600160a01b03909116178255602090920191600190910190611a1b565b60405180608001604052806004906020820280368337509192915050565b5b808211156119485760008155600101611a6f565b808211156119485760008082556001820180546001600160a01b03191690556002820181905560038201819055600482015560058101805460ff19169055600601611a83565b600060208284031215611adb57600080fd5b5035919050565b803560ff81168114611af357600080fd5b919050565b600060808284031215611b0a57600080fd5b82601f830112611b1957600080fd5b6040516080810181811067ffffffffffffffff82111715611b4a57634e487b7160e01b600052604160045260246000fd5b604052806080840185811115611b5f57600080fd5b845b81811015611b8057611b7281611ae2565b835260209283019201611b61565b509195945050505050565b60208082528251828201819052600091906040908185019086840185805b83811015611c2957825180518652878101516001600160a01b03168887015286810151878701526060808201519087015260808082015190870190845b6004811015611c0657815160ff168352918a0191908a0190600101611be6565b50505060a0015160ff166101008601526101209094019391860191600101611ba9565b509298975050505050505050565b600060208284031215611c4957600080fd5b81356001600160a01b0381168114611c6057600080fd5b9392505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60ff8281168282160390811115611cac57611cac611c7d565b92915050565b600060ff821660ff8103611cc857611cc8611c7d565b60010192915050565b80820180821115611cac57611cac611c7d565b8082028115828204841417611cac57611cac611c7d565b60ff8181168382160190811115611cac57611cac611c7d565b600081611d2357611d23611c7d565b506000190190565b634e487b7160e01b600052601260045260246000fd5b600082611d5057611d50611d2b565b500490565b81810381811115611cac57611cac611c7d565b600082611d7757611d77611d2b565b500690565b6001600160a01b038416815260c0810160208083018560005b6004811015611db557815160ff1683529183019190830190600101611d95565b5050505060ff831660a083015294935050505056fea2646970667358221220cd3527b3a8163ce39b66ebd181c25807b9d2683aa633bbd6f518e998830005bc64736f6c63430008190033"
}